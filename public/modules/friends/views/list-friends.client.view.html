<!--
        Need to be able to route the friend controller from the user controllers
        because instead of displaying friends we are displaying all the users here
        All the Friend and user implementation will be in the friend controller

        Need to take this template into the right routing     I dont know how to do that

        for the schema of the users look at the schema info in the directory

        app/models/user.server.model.js

        Jacob Cukjati
-->


<section data-ng-controller="FriendsController" data-ng-init="find()">
    <div class="page-header">
        <h1>Your Friends</h1>
    {{friend}}
    <div class="list-group">
        <input type="text" ng-model="searchKeyword" placeholder="search for friend" />
        <label>Search</label>
        <!-- Redirect to #!/friends/user.id. What is user.id for?-->
        <div data-ng-repeat="user in users | filter:searchKeyword" data-ng-init="incrementIndex()" class="list-group-item" ng-href="#!/friends/{{user._id}}">
            <h2>{{user.friend_id.displayName}}</h2>
            <img src="/modules/searchusers/views/avatar.jpg" class="img-responsive" alt="Responsive image">
			<small data-ng-init="incrementIndex()" class="list-group-item-text">
            <!--
                To display the information in the user you need to use user.friend_id.[info of user]
                Like so
            -->
			</small>
			<h4 class="list-group-item-heading" data-ng-bind="user.name"></h4>
            <a class="btn btn-info" ng-href="#!/friends/{{user._id}}">View {{user.friend_id.displayName}}'s profile</a>
        </div>
    </div>
    <div class="alert alert-warning text-center" data-ng-hide="!friends.$resolved || friends.length">
    	No Friends yet, why don't you <a href="/#!/friends/create">find one</a>?
    </div>
</section>  